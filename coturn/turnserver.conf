# CoTURN Configuration for WebRTC TURN Server
# This configuration provides TURN server functionality for NAT traversal

# TURN server realm
realm=chat-app.local

# TURN server ports
listening-port=3478
tls-listening-port=5349

# External IP (set to your server's public IP)
external-ip=YOUR_PUBLIC_IP

# Authentication
use-auth-secret
static-auth-secret=your-super-secret-turn-key-change-in-production

# Certificate files for TLS (generate with Let's Encrypt or self-signed)
cert=/opt/coturn/certs/cert.pem
pkey=/opt/coturn/certs/key.pem

# Database for user management (optional)
# userdb=/var/lib/turn/turndb

# Logging
log-file=/var/log/coturn/coturn.log
verbose

# Security settings
no-multicast-peers
no-cli
no-tlsv1
no-tlsv1_1

# TURN relay settings
min-port=49152
max-port=65535
relay-ip=YOUR_PRIVATE_IP

# Deny access to private IP ranges for security
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=192.168.0.0-192.168.255.255
denied-peer-ip=172.16.0.0-172.31.255.255

# Allow specific ranges if needed
# allowed-peer-ip=10.0.0.0-10.255.255.255

# Mobility support
mobility

# Server fingerprinting
fingerprinting

# Process management
pidfile=/var/run/coturn.pid
